(function(){"use strict";var e={8570:function(e,t,a){var o=a(3751),i=a(641),r=a(5550),n=a(301),s=a(4278),l=a(3998),c=a(3725),d=a(8255),u=a(9089),p=a(8815),m=a(3013);const f={class:"floating-toggle"};function v(e,t,a,v,b,g){const h=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.Wv)(r.E,null,{default:(0,i.k6)(()=>[(0,i.Lk)("div",f,[(0,i.bF)(p.q,{"offset-y":""},{activator:(0,i.k6)(({props:e})=>[(0,i.bF)(n.D,(0,i.v6)({icon:"mdi-apps",variant:"flat",color:"primary",size:"large"},e,{"aria-label":"MenÃº de la aplicaciÃ³n y estado de conexiÃ³n"}),null,16)]),default:(0,i.k6)(()=>[(0,i.bF)(c.x8,{density:"compact","min-width":"300"},{default:(0,i.k6)(()=>[(0,i.bF)(d.g,{title:"Multi Tienda",subtitle:"Progressive Web App"}),(0,i.bF)(s.G,{class:"my-2"}),(0,i.bF)(d.g,{title:"ConexiÃ³n: "+(v.isOnline?"En lÃ­nea":"Sin conexiÃ³n"),subtitle:v.isOnline?"âœ… Acceso total":"ðŸ“± Modo offline"},{prepend:(0,i.k6)(()=>[(0,i.bF)(l.w,{color:v.isOnline?"success":"warning",icon:"mdi-wifi"},null,8,["color"])]),_:1},8,["title","subtitle"]),v.showInstallPrompt?((0,i.uX)(),(0,i.Wv)(d.g,{key:0,title:"Instalar AplicaciÃ³n",subtitle:"Agregar a pantalla de inicio",onClick:v.installPWA},{prepend:(0,i.k6)(()=>[(0,i.bF)(l.w,{color:"primary",icon:"mdi-download"})]),_:1},8,["onClick"])):(0,i.Q3)("",!0),v.isUpdateAvailable?((0,i.uX)(),(0,i.Wv)(d.g,{key:1,title:"ActualizaciÃ³n Disponible",subtitle:"Nueva versiÃ³n lista",onClick:v.applyUpdate},{prepend:(0,i.k6)(()=>[(0,i.bF)(l.w,{color:"info",icon:"mdi-refresh"})]),_:1},8,["onClick"])):(0,i.Q3)("",!0),(0,i.bF)(s.G,{class:"my-2"}),(0,i.bF)(d.g,{title:"Notificaciones: "+(v.isNotificationsEnabled?"Activadas":"Desactivadas"),onClick:g.toggleNotifications},{prepend:(0,i.k6)(()=>[(0,i.bF)(m.N,{"model-value":v.isNotificationsEnabled,"onUpdate:modelValue":t[0]||(t[0]=e=>v.isNotificationsEnabled=e),"hide-details":""},null,8,["model-value"])]),_:1},8,["title","onClick"]),"default"===v.Notification?.permission?((0,i.uX)(),(0,i.Wv)(d.g,{key:2,title:"Solicitar Notificaciones",onClick:v.requestNotificationPermission},{prepend:(0,i.k6)(()=>[(0,i.bF)(l.w,{color:"warning",icon:"mdi-bell-alert"})]),_:1},8,["onClick"])):((0,i.uX)(),(0,i.Wv)(d.g,{key:3,title:`Permisos: ${v.Notification?.permission||"No soportado"}`,subtitle:"Estado del navegador"},{prepend:(0,i.k6)(()=>[(0,i.bF)(l.w,{color:"granted"===v.Notification?.permission?"success":"error",icon:"granted"===v.Notification?.permission?"mdi-check-circle":"mdi-alert-circle"},null,8,["color","icon"])]),_:1},8,["title"])),(0,i.bF)(s.G,{class:"my-2"}),(0,i.bF)(d.g,{title:"ðŸ”’ Seguridad Activada",subtitle:"Clic derecho y recarga bloqueados"},{prepend:(0,i.k6)(()=>[(0,i.bF)(l.w,{color:"success",icon:"mdi-shield-check"})]),_:1})]),_:1})]),_:1})]),(0,i.bF)(u.Y,null,{default:(0,i.k6)(()=>[(0,i.bF)(o.eB,{name:"page-fade",mode:"out-in"},{default:(0,i.k6)(()=>[((0,i.uX)(),(0,i.Wv)(h,{key:e.$route.fullPath,class:"page-transition"}))]),_:1})]),_:1})]),_:1})}var b=a(953);function g(){const e=(0,b.KR)(!0),t=(0,b.KR)(""),a=(0,b.KR)(""),o=(0,b.KR)(null),r=(0,b.KR)(null),n=(0,b.KR)(navigator.onLine),s=(0,b.KR)(null),l=(0,b.KR)(!1),c=(0,b.KR)(!1),d=(0,b.KR)(null),u=()=>{if(!d.value&&"undefined"!==typeof window)try{const e=window.AudioContext||window.webkitAudioContext;d.value=new e}catch(e){}},p=()=>{if(d.value)try{const e=d.value,t=e.currentTime,a=e.createOscillator(),o=e.createGain();a.connect(o),o.connect(e.destination),a.frequency.setValueAtTime(800,t),a.frequency.setValueAtTime(1e3,t+.1),o.gain.setValueAtTime(.3,t),o.gain.exponentialRampToValueAtTime(.01,t+.2),a.start(t),a.stop(t+.2)}catch(e){}},m=e=>{e.preventDefault()},f=e=>(e.preventDefault(),e.returnValue="",!1),v=e=>!e.ctrlKey&&!e.metaKey||"r"!==e.key&&"R"!==e.key?"F5"===e.key?(e.preventDefault(),!1):void 0:(e.preventDefault(),!1),g=()=>{n.value=!0,e.value&&k("Â¡ConexiÃ³n restaurada!","âœ… EstÃ¡s de nuevo en lÃ­nea.")},h=()=>{n.value=!1,e.value&&k("âš ï¸ Sin conexiÃ³n","ðŸ“± Navegando en modo offline - los datos se sincronizarÃ¡n cuando recuperes conexiÃ³n.")},k=async(e,t)=>{if("Notification"in window&&"granted"===Notification.permission)try{new Notification(e,{body:t,icon:"/img/icons/icon-192.png",badge:"/img/icons/icon-96.png",tag:"offline-notif"})}catch(a){}},y=e=>{e.preventDefault(),s.value=e,l.value=!0},w=async()=>{if(s.value)try{s.value.prompt();const{outcome:e}=await s.value.userChoice;console.log(`User response: ${e}`),s.value=null,l.value=!1}catch(e){console.error("Error installing PWA:",e)}},x=()=>{c.value=!0,e.value&&_()},_=async()=>{if("Notification"in window&&"granted"===Notification.permission)try{new Notification("ðŸ†• ActualizaciÃ³n disponible",{body:"Una nueva versiÃ³n de la tienda estÃ¡ disponible. Recarga para actualizar.",icon:"/img/icons/icon-192.png",badge:"/img/icons/icon-96.png",tag:"update-notif"})}catch(e){}},C=()=>{window.location.reload(!0)},F=()=>{if(document.hidden)e.value&&(E(),T(),$(),p());else{if(S(),A(),t.value&&(document.title=t.value),a.value){const e=document.querySelector("link[rel*='icon']");e&&(e.href=a.value)}try{window.focus()}catch(o){}}},E=async()=>{if("Notification"in window&&"granted"===Notification.permission)try{const e={body:"Â¡La tienda sigue abierta! Haz click para volver.",icon:"/img/icons/icon-192.png",tag:"store-notif",badge:"/img/icons/icon-96.png"},t=new Notification("ðŸ”” Vuelve a Multi Tienda",e);t.onclick=()=>{try{window.focus()}catch(e){}t.close?.()}}catch(e){}},L=async()=>{if("Notification"in window)try{if("default"===Notification.permission){const e=await Notification.requestPermission();return"granted"===e}return"granted"===Notification.permission}catch(e){return!1}},T=()=>{if(o.value)return;let e=!1;const a="ðŸ”” Vuelve a la tienda";o.value=setInterval(()=>{document.title=e?t.value:a,e=!e},1e3)},S=()=>{o.value&&(clearInterval(o.value),o.value=null)},$=()=>{if(r.value)return;let e=!1;const t='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="%23ef4444"/><text x="50" y="55" font-size="60" fill="white" text-anchor="middle" dominant-baseline="middle">!</text></svg>';r.value=setInterval(()=>{const o=document.querySelector("link[rel*='icon']");o&&(o.href=e?a.value:t),e=!e},1e3)},A=()=>{r.value&&(clearInterval(r.value),r.value=null)},D=async()=>{t.value=document.title;const e=document.querySelector("link[rel*='icon']");e&&(a.value=e.href),u(),await L(),window.addEventListener("contextmenu",m),window.addEventListener("beforeunload",f),window.addEventListener("keydown",v),document.addEventListener("visibilitychange",F),window.addEventListener("online",g),window.addEventListener("offline",h),window.addEventListener("beforeinstallprompt",y),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.addEventListener("updatefound",()=>{const t=e.installing;t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&x()})})})},W=()=>{S(),A(),window.removeEventListener("contextmenu",m),window.removeEventListener("beforeunload",f),window.removeEventListener("keydown",v),document.removeEventListener("visibilitychange",F),window.removeEventListener("online",g),window.removeEventListener("offline",h),window.removeEventListener("beforeinstallprompt",y),d.value&&d.value.close?.()};return(0,i.sV)(()=>{D()}),(0,i.xo)(()=>{W()}),{isNotificationsEnabled:e,isOnline:n,showInstallPrompt:l,isUpdateAvailable:c,requestNotificationPermission:L,installPWA:w,applyUpdate:C}}var h={name:"App",setup(){const{isNotificationsEnabled:e,isOnline:t,showInstallPrompt:a,isUpdateAvailable:o,requestNotificationPermission:i,installPWA:r,applyUpdate:n}=g();return{isNotificationsEnabled:e,isOnline:t,showInstallPrompt:a,isUpdateAvailable:o,requestNotificationPermission:i,installPWA:r,applyUpdate:n,Notification:"undefined"!==typeof window?window.Notification:null}},methods:{toggleNotifications(){this.isNotificationsEnabled=!this.isNotificationsEnabled}}},k=a(6262);const y=(0,k.A)(h,[["render",v]]);var w=y,x=a(5499),_=a(33),C=a(391),F=a(2911),E=a(783),L=a(5237),T=a(7419),S=a(7533),$=a(9654),A=a(6108),D=a(1439),W=a(7150);const P={key:0},N={class:"d-flex flex-wrap align-center ga-2 text-caption text-medium-emphasis"},O={class:"text-h3 font-weight-bold text-primary"},I={class:"text-caption text-medium-emphasis"},R={key:1},j={key:0},q={class:"d-flex align-center justify-space-between mb-4 products-header"},z={class:"d-flex gap-2"},M={class:"mx-1"};function X(e,t,a,o,r,l){const c=(0,i.g2)("StoreHeader"),d=(0,i.g2)("ProductCard"),u=(0,i.g2)("CartDialog");return(0,i.uX)(),(0,i.Wv)(S.I,{fluid:"",class:"store-view py-10"},{default:(0,i.k6)(()=>[(0,i.bF)($.L,{justify:"center"},{default:(0,i.k6)(()=>[(0,i.bF)(A.B,{cols:"12",md:"10",lg:"9"},{default:(0,i.k6)(()=>[e.error?((0,i.uX)(),(0,i.Wv)(C.l,{key:0,type:"error",variant:"tonal",border:"start",density:"comfortable",class:"mb-4"},{default:(0,i.k6)(()=>[(0,i.eW)((0,_.v_)(e.error),1)]),_:1})):(0,i.Q3)("",!0),e.loading?((0,i.uX)(),(0,i.Wv)(W.i,{key:1,class:"d-flex flex-column align-center justify-center py-16",color:"transparent",elevation:"0"},{default:(0,i.k6)(()=>[(0,i.bF)(D.x,{indeterminate:"",size:"34",class:"mb-3",color:"primary"}),t[2]||(t[2]=(0,i.Lk)("span",{class:"text-body-2 text-medium-emphasis"}," Cargando tiendas... ",-1))]),_:1})):((0,i.uX)(),(0,i.CE)(i.FK,{key:2},[l.storeParam?((0,i.uX)(),(0,i.CE)("div",R,[(0,i.bF)(n.D,{variant:"text",color:"primary","prepend-icon":"mdi-arrow-left",class:"mb-4 text-none px-0",onClick:l.clearStore},{default:(0,i.k6)(()=>[...t[10]||(t[10]=[(0,i.eW)(" Volver a las tiendas ",-1)])]),_:1},8,["onClick"]),e.currentStore?((0,i.uX)(),(0,i.CE)("div",j,[(0,i.bF)(W.i,{class:"store-hero mb-6",rounded:"lg",elevation:"2"},{default:(0,i.k6)(()=>[(0,i.bF)(E.O,{class:"pa-6"},{default:(0,i.k6)(()=>[(0,i.bF)($.L,{align:"center"},{default:(0,i.k6)(()=>[(0,i.bF)(A.B,{cols:"12",md:"8"},{default:(0,i.k6)(()=>[(0,i.bF)(c,{store:e.currentStore,"show-description":!0},null,8,["store"])]),_:1}),(0,i.bF)(A.B,{cols:"12",md:"4",class:"d-flex justify-end"},{default:(0,i.k6)(()=>[(0,i.bF)(T.x,{size:"large",color:"success",variant:"tonal","prepend-icon":"mdi-shopping-cart"},{default:(0,i.k6)(()=>[(0,i.eW)((0,_.v_)(l.cartItems)+" en carrito ",1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(0,i.Lk)("div",q,[t[12]||(t[12]=(0,i.Lk)("div",null,[(0,i.Lk)("h2",{class:"text-h5 font-weight-medium mb-0"}," ðŸ“¦ CatÃ¡logo de Productos ")],-1)),(0,i.Lk)("div",z,[(0,i.bF)(T.x,{size:"small",color:"primary",variant:"tonal"},{default:(0,i.k6)(()=>[(0,i.eW)((0,_.v_)(e.currentStore.products.length)+" artÃ­culo(s) ",1)]),_:1}),l.cartItems>0?((0,i.uX)(),(0,i.Wv)(n.D,{key:0,color:"success",variant:"flat",size:"small","prepend-icon":"mdi-whatsapp",class:"btn-view-cart",onClick:t[0]||(t[0]=e=>r.showCartDialog=!0)},{default:(0,i.k6)(()=>[...t[11]||(t[11]=[(0,i.eW)(" Ver Carrito ",-1)])]),_:1})):(0,i.Q3)("",!0)])]),(0,i.bF)(s.G,{class:"mb-6"}),(0,i.bF)($.L,{dense:""},{default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.currentStore.products,t=>((0,i.uX)(),(0,i.Wv)(A.B,{key:t.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:(0,i.k6)(()=>[(0,i.bF)(d,{product:t,store:e.currentStore,onAddToCart:l.addToCart},null,8,["product","store","onAddToCart"])]),_:2},1024))),128))]),_:1})])):((0,i.uX)(),(0,i.Wv)(C.l,{key:1,type:"warning",variant:"tonal",border:"start",density:"comfortable",class:"mt-6"},{default:(0,i.k6)(()=>[t[13]||(t[13]=(0,i.eW)(" No se encontrÃ³ la tienda ",-1)),(0,i.Lk)("strong",M,(0,_.v_)(l.storeParam),1),t[14]||(t[14]=(0,i.eW)(". Elige una tienda vÃ¡lida. ",-1))]),_:1}))])):((0,i.uX)(),(0,i.CE)("div",P,[(0,i.bF)(W.i,{class:"header-card mb-8",rounded:"xl",elevation:"2"},{default:(0,i.k6)(()=>[(0,i.bF)($.L,{"no-gutters":"",align:"center"},{default:(0,i.k6)(()=>[(0,i.bF)(A.B,{cols:"12",md:"8"},{default:(0,i.k6)(()=>[t[6]||(t[6]=(0,i.Lk)("h1",{class:"text-h4 font-weight-bold mb-2"}," ðŸ›ï¸ Multi tienda moderna ",-1)),t[7]||(t[7]=(0,i.Lk)("p",{class:"text-body-2 text-medium-emphasis mb-4"}," Elige una tienda para explorar productos curados por categorÃ­a. ",-1)),(0,i.Lk)("div",N,[t[5]||(t[5]=(0,i.Lk)("span",null,"TambiÃ©n puedes usar la URL:",-1)),(0,i.bF)(T.x,{size:"small",variant:"outlined",color:"primary"},{default:(0,i.k6)(()=>[...t[3]||(t[3]=[(0,i.eW)(" ?store=tech ",-1)])]),_:1}),(0,i.bF)(T.x,{size:"small",variant:"outlined",color:"primary"},{default:(0,i.k6)(()=>[...t[4]||(t[4]=[(0,i.eW)(" ?store=fashion ",-1)])]),_:1})])]),_:1}),(0,i.bF)(A.B,{cols:"12",md:"4",class:"d-flex justify-end align-center"},{default:(0,i.k6)(()=>[(0,i.bF)(F.J,{class:"text-center pa-4",elevation:"0",color:"primary",variant:"tonal"},{default:(0,i.k6)(()=>[t[8]||(t[8]=(0,i.Lk)("div",{class:"text-caption text-medium-emphasis mb-1"}," Tiendas disponibles ",-1)),(0,i.Lk)("div",O,(0,_.v_)(e.stores.length),1)]),_:1})]),_:1})]),_:1})]),_:1}),(0,i.bF)($.L,{dense:"",class:"mb-6"},{default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.stores,(e,a)=>((0,i.uX)(),(0,i.Wv)(A.B,{key:e.slug,cols:"12",sm:"6",md:"4",lg:"3"},{default:(0,i.k6)(()=>[(0,i.bF)(F.J,{class:"store-card h-100",rounded:"lg",elevation:"1",onClick:t=>l.goToStore(e.slug),style:(0,_.Tr)({"--delay":50*a+"ms"})},{default:(0,i.k6)(()=>[(0,i.bF)(E.O,{class:"pa-5"},{default:(0,i.k6)(()=>[(0,i.bF)(c,{store:e},null,8,["store"])]),_:2},1024),(0,i.bF)(s.G,{class:"mx-4"}),(0,i.bF)(L.S,{class:"px-4 py-3 d-flex justify-space-between align-center action-store-card"},{default:(0,i.k6)(()=>[(0,i.Lk)("span",I,(0,_.v_)(e.products.length)+" productos ",1),(0,i.bF)(n.D,{variant:"flat",color:"primary",size:"small",class:"text-none btn-open-store","append-icon":"mdi-arrow-right"},{default:(0,i.k6)(()=>[...t[9]||(t[9]=[(0,i.eW)(" Abrir ",-1)])]),_:1})]),_:2},1024)]),_:2},1032,["onClick","style"])]),_:2},1024))),128))]),_:1})]))],64))]),_:1})]),_:1}),(0,i.bF)(u,{show:r.showCartDialog,store:e.currentStore,onClose:t[1]||(t[1]=e=>r.showCartDialog=!1),onSendMessage:l.sendCartMessage},null,8,["show","store","onSendMessage"])]),_:1})}a(4114);var U=a(6278);const B={key:0,class:"store-logo"},V=["src","alt"],Q={class:"store-info"},G={class:"store-name"},K={key:0,class:"store-description",role:"doc-subtitle"},H=["title"];function J(e,t,a,o,r,n){return(0,i.uX)(),(0,i.CE)("header",{class:"store-header",style:(0,_.Tr)(n.headerStyle),role:"banner"},[a.store.logoBase64?((0,i.uX)(),(0,i.CE)("div",B,[(0,i.Lk)("img",{src:a.store.logoBase64,alt:`Logo de ${a.store.name}`,role:"img","aria-label":"`Imagen de la tienda ${store.name}`"},null,8,V)])):(0,i.Q3)("",!0),(0,i.Lk)("div",Q,[(0,i.Lk)("h2",G,(0,_.v_)(a.store.name),1),a.showDescription&&a.store.description?((0,i.uX)(),(0,i.CE)("p",K,(0,_.v_)(a.store.description),1)):!a.showDescription&&a.store.description?((0,i.uX)(),(0,i.CE)("p",{key:1,class:"store-description truncated",role:"doc-subtitle",title:a.store.description},(0,_.v_)(a.store.description),9,H)):(0,i.Q3)("",!0)])],4)}var Y={name:"StoreHeader",props:{store:{type:Object,required:!0},showDescription:{type:Boolean,default:!1}},computed:{headerStyle(){return{borderBottom:`3px solid ${this.store.primaryColor||"#42b883"}`}}}};const Z=(0,k.A)(Y,[["render",J],["__scopeId","data-v-29671ed6"]]);var ee=Z,te=a(9305),ae=a(7830),oe=a(9871),ie=a(7453);const re={class:"product-image-wrapper position-relative overflow-hidden"},ne={key:1,class:"product-overlay",role:"region","aria-label":"Acciones rÃ¡pidas del producto"},se={class:"text-body-1 font-weight-semibold mb-2 line-clamp-2"},le={class:"text-caption text-medium-emphasis mb-3 line-clamp-2"},ce={class:"d-flex align-center mb-3",role:"group","aria-label":"CalificaciÃ³n del producto"},de={class:"text-caption text-medium-emphasis ms-2"},ue={class:"d-flex justify-space-between align-center mb-4"},pe={class:"text-caption text-medium-emphasis"},me={class:"price-section mb-4"},fe={key:0,class:"text-caption text-medium-emphasis text-decoration-line-through"},ve={class:"text-h5 font-weight-bold text-primary"};function be(e,t,a,r,s,l){const c=(0,i.g2)("ProductDetailDialog");return(0,i.uX)(),(0,i.Wv)(F.J,{class:"product-card h-100",rounded:"lg",elevation:"1",onMouseenter:t[2]||(t[2]=e=>s.isHovered=!0),onMouseleave:t[3]||(t[3]=e=>s.isHovered=!1),role:"article","aria-label":`${a.product.name}, ${a.product.price} pesos`},{default:(0,i.k6)(()=>[(0,i.Lk)("div",re,[(0,i.bF)(te.y,{src:a.product.image,alt:`${a.product.name} - imagen del producto`,height:"220",class:"product-image",cover:""},null,8,["src","alt"]),a.product.discount?((0,i.uX)(),(0,i.Wv)(T.x,{key:0,class:"discount-badge",color:"error",variant:"flat",size:"small","aria-live":"polite"},{default:(0,i.k6)(()=>[(0,i.eW)(" -"+(0,_.v_)(a.product.discount)+"% ",1)]),_:1})):(0,i.Q3)("",!0),s.isHovered?((0,i.uX)(),(0,i.CE)("div",ne,[(0,i.bF)(n.D,{color:"white",variant:"flat",size:"small","prepend-icon":s.isFavorite?"mdi-heart":"mdi-heart-outline",onClick:(0,o.D$)(l.toggleFavorite,["stop"]),class:"mb-2","aria-label":(s.isFavorite?"Quitar de":"Agregar a")+" favoritos"},{default:(0,i.k6)(()=>[(0,i.eW)((0,_.v_)((s.isFavorite,"Favorito")),1)]),_:1},8,["prepend-icon","onClick","aria-label"]),(0,i.bF)(n.D,{color:"primary",variant:"flat","prepend-icon":"mdi-information-outline",onClick:t[0]||(t[0]=(0,o.D$)(e=>s.showDetails=!0,["stop"])),"aria-label":"Ver detalles del producto"},{default:(0,i.k6)(()=>[...t[4]||(t[4]=[(0,i.eW)(" Detalles ",-1)])]),_:1})])):(0,i.Q3)("",!0)]),(0,i.bF)(E.O,{class:"pa-4"},{default:(0,i.k6)(()=>[(0,i.bF)(T.x,{size:"x-small",variant:"tonal",color:"secondary",class:"mb-3","aria-label":"`CategorÃ­a: ${product.category}`"},{default:(0,i.k6)(()=>[(0,i.eW)((0,_.v_)(a.product.category),1)]),_:1}),(0,i.Lk)("h3",se,(0,_.v_)(a.product.name),1),(0,i.Lk)("p",le,(0,_.v_)(a.product.description),1),(0,i.Lk)("div",ce,[(0,i.bF)(oe.e,{"model-value":a.product.rating||4.5,color:"warning",size:"x-small",readonly:"",density:"compact","aria-label":"`CalificaciÃ³n: ${product.rating} de 5 estrellas`"},null,8,["model-value"]),(0,i.Lk)("span",de," ("+(0,_.v_)(a.product.reviews||0)+") ",1)]),(0,i.bF)(ae.Z,{value:a.product.stock/100*100,color:a.product.stock>20?"success":"warning",height:"4",class:"mb-3","aria-label":"`Disponibilidad: ${product.stock}% de stock`"},null,8,["value","color"]),(0,i.Lk)("div",ue,[(0,i.Lk)("span",pe," Stock: "+(0,_.v_)(a.product.stock),1)]),(0,i.Lk)("div",me,[a.product.oldPrice?((0,i.uX)(),(0,i.CE)("div",fe," $"+(0,_.v_)(a.product.oldPrice),1)):(0,i.Q3)("",!0),(0,i.Lk)("div",ve," $"+(0,_.v_)(a.product.price),1)])]),_:1}),(0,i.bF)(L.S,{class:"px-4 py-3 d-flex gap-2 actions-container flex-wrap"},{default:(0,i.k6)(()=>[(0,i.bF)(n.D,{color:"success",variant:"flat","prepend-icon":"mdi-whatsapp",size:"small",class:"text-none flex-grow-1 btn-whatsapp",onClick:l.sendWhatsAppMessage,"aria-label":"`Consultar sobre ${product.name} por WhatsApp`"},{default:(0,i.k6)(()=>[...t[5]||(t[5]=[(0,i.eW)(" Consultar ",-1)])]),_:1},8,["onClick"]),(0,i.bF)(ie.y,{text:"Agregar al carrito"},{activator:(0,i.k6)(({props:e})=>[(0,i.bF)(n.D,(0,i.v6)({color:"primary",variant:"flat",icon:"mdi-cart-plus",size:"large",class:"btn-cart"},e,{onClick:l.addToCart,"aria-label":"`Agregar ${product.name} al carrito`"}),null,16,["onClick"])]),_:1})]),_:1}),(0,i.bF)(c,{show:s.showDetails,product:a.product,store:a.store,onClose:t[1]||(t[1]=e=>s.showDetails=!1),onAddToCart:l.addToCart,onSendMessage:l.sendWhatsAppMessage},null,8,["show","product","store","onAddToCart","onSendMessage"])]),_:1},8,["aria-label"])}var ge=a(1865);const he={class:"detail-image-container position-relative"},ke={class:"d-flex align-center justify-space-between mb-3"},ye={class:"d-flex align-center gap-1",role:"group","aria-label":"CalificaciÃ³n del producto"},we={class:"text-caption text-medium-emphasis"},xe={class:"text-h5 font-weight-bold mb-3"},_e={class:"text-body-2 text-medium-emphasis mb-4"},Ce={class:"mb-4"},Fe={class:"d-flex justify-space-between mb-2"},Ee={class:"text-caption font-weight-bold","aria-label":"`Disponibilidad: ${product.stock} unidades`"},Le={class:"price-box mb-6"},Te={key:0,class:"old-price"},Se={class:"text-decoration-line-through"},$e={class:"current-price"},Ae={class:"text-h4 font-weight-bold text-primary","aria-label":"`Precio actual: ${product.price} pesos`"},De={class:"info-grid mb-4"},We={class:"info-item"},Pe={class:"info-item"};function Ne(e,t,a,o,r,c){return(0,i.uX)(),(0,i.Wv)(ge.p,{"model-value":a.show,"max-width":"700","onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("close")),role:"dialog","aria-label":"Detalles del producto","aria-modal":"true"},{default:(0,i.k6)(()=>[a.product?((0,i.uX)(),(0,i.Wv)(F.J,{key:0,rounded:"lg"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",he,[(0,i.bF)(te.y,{src:a.product.image,alt:`${a.product.name} - imagen de detalle`,height:"350",cover:""},null,8,["src","alt"]),a.product.discount?((0,i.uX)(),(0,i.Wv)(T.x,{key:0,class:"discount-badge-large",color:"error",variant:"flat",size:"large","aria-live":"polite"},{default:(0,i.k6)(()=>[(0,i.eW)(" -"+(0,_.v_)(a.product.discount)+"% ",1)]),_:1})):(0,i.Q3)("",!0),(0,i.bF)(n.D,{icon:"",color:"white",variant:"flat",size:"small",class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close")),"aria-label":"Cerrar detalles del producto"},{default:(0,i.k6)(()=>[(0,i.bF)(l.w,null,{default:(0,i.k6)(()=>[...t[2]||(t[2]=[(0,i.eW)("mdi-close",-1)])]),_:1})]),_:1})]),(0,i.bF)(E.O,{class:"pa-6"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",ke,[(0,i.bF)(T.x,{size:"small",variant:"tonal",color:"secondary","aria-label":"`CategorÃ­a: ${product.category}`"},{default:(0,i.k6)(()=>[(0,i.eW)((0,_.v_)(a.product.category),1)]),_:1}),(0,i.Lk)("div",ye,[(0,i.bF)(oe.e,{"model-value":a.product.rating||4.5,color:"warning",size:"small",readonly:"",density:"compact","aria-label":"`CalificaciÃ³n: ${product.rating} de 5 estrellas`"},null,8,["model-value"]),(0,i.Lk)("span",we," ("+(0,_.v_)(a.product.reviews||0)+") ",1)])]),(0,i.Lk)("h2",xe,(0,_.v_)(a.product.name),1),(0,i.Lk)("p",_e,(0,_.v_)(a.product.description),1),(0,i.Lk)("div",Ce,[(0,i.Lk)("div",Fe,[t[3]||(t[3]=(0,i.Lk)("span",{class:"text-caption"},"Disponibilidad",-1)),(0,i.Lk)("span",Ee,(0,_.v_)(a.product.stock)+" unidades ",1)]),(0,i.bF)(ae.Z,{value:a.product.stock/100*100,color:a.product.stock>20?"success":"warning",height:"6","aria-label":"`Nivel de stock: ${product.stock}%`"},null,8,["value","color"])]),(0,i.Lk)("div",Le,[a.product.oldPrice?((0,i.uX)(),(0,i.CE)("div",Te,[t[4]||(t[4]=(0,i.eW)(" Antes: ",-1)),(0,i.Lk)("span",Se,"$"+(0,_.v_)(a.product.oldPrice),1)])):(0,i.Q3)("",!0),(0,i.Lk)("div",$e,[t[5]||(t[5]=(0,i.eW)(" Ahora: ",-1)),(0,i.Lk)("span",Ae,"$"+(0,_.v_)(a.product.price),1)])]),(0,i.bF)(s.G,{class:"mb-4"}),(0,i.Lk)("div",De,[(0,i.Lk)("div",We,[(0,i.bF)(l.w,{color:"primary",size:"small"},{default:(0,i.k6)(()=>[...t[6]||(t[6]=[(0,i.eW)("mdi-truck-fast",-1)])]),_:1}),t[7]||(t[7]=(0,i.Lk)("span",{class:"text-caption ms-2"},"EnvÃ­o rÃ¡pido disponible",-1))]),(0,i.Lk)("div",Pe,[(0,i.bF)(l.w,{color:"primary",size:"small"},{default:(0,i.k6)(()=>[...t[8]||(t[8]=[(0,i.eW)("mdi-shield-check",-1)])]),_:1}),t[9]||(t[9]=(0,i.Lk)("span",{class:"text-caption ms-2"},"100% garantizado",-1))])])]),_:1}),(0,i.bF)(L.S,{class:"pa-6 d-flex gap-3 actions-dialog"},{default:(0,i.k6)(()=>[(0,i.bF)(n.D,{color:"success",variant:"flat","prepend-icon":"mdi-whatsapp",class:"flex-grow-1 btn-whatsapp-dialog",size:"large",onClick:c.handleSendMessage,"aria-label":"`Consultar sobre ${product.name} por WhatsApp`"},{default:(0,i.k6)(()=>[...t[10]||(t[10]=[(0,i.eW)(" Consultar por WhatsApp ",-1)])]),_:1},8,["onClick"]),(0,i.bF)(n.D,{color:"primary",variant:"flat","prepend-icon":"mdi-cart-plus",size:"large",class:"flex-grow-1 btn-cart-dialog",onClick:c.handleAddToCart,"aria-label":"`Agregar ${product.name} al carrito`"},{default:(0,i.k6)(()=>[...t[11]||(t[11]=[(0,i.eW)(" Agregar al carrito ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})):(0,i.Q3)("",!0)]),_:1},8,["model-value"])}var Oe={name:"ProductDetailDialog",props:{show:Boolean,product:Object,store:Object},methods:{handleAddToCart(){this.$emit("add-to-cart",this.product),this.$emit("close")},handleSendMessage(){this.$emit("send-message"),this.$emit("close")}}};const Ie=(0,k.A)(Oe,[["render",Ne],["__scopeId","data-v-683c8aec"]]);var Re=Ie,je={name:"ProductCard",components:{ProductDetailDialog:Re},props:{product:{type:Object,required:!0},store:{type:Object,required:!0}},data(){return{isHovered:!1,showDetails:!1,isFavorite:!1}},methods:{addToCart(){this.$emit("add-to-cart",this.product)},toggleFavorite(){this.isFavorite=!this.isFavorite},sendWhatsAppMessage(){const e=this.store.whatsappPhone,t=this.store.name,a=this.getAddressBlock(),o=encodeURIComponent(`*${t.toUpperCase()}* ðŸ›ï¸\n\nHola, estoy interesado en:\n\nðŸ“¦ *${this.product.name}*\nðŸ’µ Precio: $${this.product.price}\nðŸ“ ${this.product.description}\nâ­ CalificaciÃ³n: ${this.product.rating}/5\n\n${a}Â¿Tienes disponibilidad?\nÂ¿CuÃ¡l es el tiempo de entrega?\n\nGracias! ðŸ™Œ`);window.open(`https://wa.me/${e}?text=${o}`,"_blank")},getAddressBlock(){const e=window.prompt("Comparte tu direcciÃ³n de entrega (opcional) o pega tu ubicaciÃ³n.",""),t=(e||"").trim();return t?`ðŸ“ DirecciÃ³n de entrega:\n${t}\n\n`:"ðŸ“ Comparte tu direcciÃ³n o envÃ­a tu ubicaciÃ³n para coordinar la entrega.\n\n"}}};const qe=(0,k.A)(je,[["render",be],["__scopeId","data-v-9184eca4"]]);var ze=qe,Me=a(908),Xe=a(9309),Ue=a(3175);const Be={key:0,class:"text-center py-12"},Ve={key:1},Qe={class:"flex-grow-1"},Ge={class:"d-flex align-center gap-2"},Ke={class:"text-body-2 font-weight-bold px-2"},He={class:"text-right"},Je={class:"text-body-2 font-weight-bold text-primary mb-2"},Ye={class:"summary-section",role:"region","aria-label":"Resumen de la compra"},Ze={class:"d-flex justify-space-between mb-3"},et={class:"text-body-2 font-weight-bold","aria-label":"`Subtotal: ${subtotal} pesos`"},tt={class:"d-flex justify-space-between mb-3"},at={class:"text-body-2 font-weight-bold","aria-label":"`Impuesto: ${tax} pesos`"},ot={class:"d-flex justify-space-between"},it={class:"text-h6 font-weight-bold text-primary","aria-label":"`Total a pagar: ${total} pesos`"};function rt(e,t,a,r,u,p){return(0,i.uX)(),(0,i.Wv)(ge.p,{"model-value":a.show,"max-width":"600","onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("close")),role:"dialog","aria-label":"Carrito de compras","aria-modal":"true"},{default:(0,i.k6)(()=>[(0,i.bF)(F.J,{rounded:"lg"},{default:(0,i.k6)(()=>[(0,i.bF)(Me.r,{class:"d-flex justify-space-between align-center pa-6 bg-light"},{default:(0,i.k6)(()=>[t[4]||(t[4]=(0,i.Lk)("span",{class:"text-h6 font-weight-bold"}," ðŸ›’ Mi Carrito ",-1)),(0,i.bF)(n.D,{icon:"",variant:"text",size:"small",onClick:t[0]||(t[0]=t=>e.$emit("close")),"aria-label":"Cerrar carrito"},{default:(0,i.k6)(()=>[(0,i.bF)(l.w,null,{default:(0,i.k6)(()=>[...t[3]||(t[3]=[(0,i.eW)("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),(0,i.bF)(s.G),(0,i.bF)(E.O,{class:"pa-6"},{default:(0,i.k6)(()=>[0===e.items.length?((0,i.uX)(),(0,i.CE)("div",Be,[(0,i.bF)(l.w,{size:"64",color:"medium-emphasis",class:"mb-4"},{default:(0,i.k6)(()=>[...t[5]||(t[5]=[(0,i.eW)(" mdi-shopping-cart-outline ",-1)])]),_:1}),t[6]||(t[6]=(0,i.Lk)("p",{class:"text-body-2 text-medium-emphasis mt-4"}," Tu carrito estÃ¡ vacÃ­o ",-1)),t[7]||(t[7]=(0,i.Lk)("p",{class:"text-caption text-medium-emphasis"}," Agrega productos para comenzar a comprar ",-1))])):((0,i.uX)(),(0,i.CE)("div",Ve,[(0,i.bF)(c.x8,{class:"pa-0 mb-4",role:"list","aria-label":"ArtÃ­culos en el carrito"},{default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.items,(e,a)=>((0,i.uX)(),(0,i.Wv)(d.g,{key:a,class:"mb-3 pa-3 rounded-lg cart-item",role:"listitem"},{prepend:(0,i.k6)(()=>[(0,i.bF)(te.y,{src:e.image,height:"70",width:"70",class:"rounded me-3",alt:`Imagen de ${e.name}`},null,8,["src","alt"])]),append:(0,i.k6)(()=>[(0,i.Lk)("div",He,[(0,i.Lk)("div",Je," $"+(0,_.v_)((e.price*(e.quantity||1)).toFixed(2)),1),(0,i.bF)(n.D,{size:"x-small",color:"error",variant:"text",icon:"",onClick:(0,o.D$)(e=>p.removeItem(a),["stop"]),"aria-label":`Eliminar ${e.name} del carrito`},{default:(0,i.k6)(()=>[(0,i.bF)(l.w,null,{default:(0,i.k6)(()=>[...t[10]||(t[10]=[(0,i.eW)("mdi-trash-outline",-1)])]),_:1})]),_:1},8,["onClick","aria-label"])])]),default:(0,i.k6)(()=>[(0,i.Lk)("div",Qe,[(0,i.bF)(Xe.U,{class:"font-weight-semibold mb-2"},{default:(0,i.k6)(()=>[(0,i.eW)((0,_.v_)(e.name),1)]),_:2},1024),(0,i.bF)(Ue.w,{class:"text-caption mb-2"},{default:(0,i.k6)(()=>[(0,i.eW)((0,_.v_)(e.category),1)]),_:2},1024),(0,i.Lk)("div",Ge,[(0,i.bF)(n.D,{size:"x-small",variant:"outlined",icon:"",onClick:e=>p.decreaseQuantity(a),disabled:e.quantity<=1},{default:(0,i.k6)(()=>[(0,i.bF)(l.w,{size:"small"},{default:(0,i.k6)(()=>[...t[8]||(t[8]=[(0,i.eW)("mdi-minus",-1)])]),_:1})]),_:1},8,["onClick","disabled"]),(0,i.Lk)("span",Ke,(0,_.v_)(e.quantity||1),1),(0,i.bF)(n.D,{size:"x-small",variant:"outlined",icon:"",onClick:e=>p.increaseQuantity(a)},{default:(0,i.k6)(()=>[(0,i.bF)(l.w,{size:"small"},{default:(0,i.k6)(()=>[...t[9]||(t[9]=[(0,i.eW)("mdi-plus",-1)])]),_:1})]),_:1},8,["onClick"])])])]),_:2},1024))),128))]),_:1}),(0,i.bF)(s.G,{class:"my-4"}),(0,i.Lk)("div",Ye,[(0,i.Lk)("div",Ze,[t[11]||(t[11]=(0,i.Lk)("span",{class:"text-body-2"},"Subtotal:",-1)),(0,i.Lk)("span",et,"$"+(0,_.v_)(p.subtotal),1)]),(0,i.Lk)("div",tt,[t[12]||(t[12]=(0,i.Lk)("span",{class:"text-body-2"},"Impuesto (10%):",-1)),(0,i.Lk)("span",at,"$"+(0,_.v_)(p.tax),1)]),(0,i.bF)(s.G,{class:"my-3"}),(0,i.Lk)("div",ot,[t[13]||(t[13]=(0,i.Lk)("span",{class:"text-h6 font-weight-bold"},"Total:",-1)),(0,i.Lk)("span",it,"$"+(0,_.v_)(p.total),1)])])]))]),_:1}),e.items.length>0?((0,i.uX)(),(0,i.Wv)(L.S,{key:0,class:"pa-6 d-flex gap-3 actions-cart-dialog"},{default:(0,i.k6)(()=>[(0,i.bF)(n.D,{variant:"outlined",color:"primary",size:"large",class:"btn-continue",onClick:t[1]||(t[1]=t=>e.$emit("close")),"aria-label":"Continuar comprando"},{default:(0,i.k6)(()=>[...t[14]||(t[14]=[(0,i.eW)(" Continuar comprando ",-1)])]),_:1}),(0,i.bF)(n.D,{color:"success",variant:"flat","prepend-icon":"mdi-whatsapp",class:"flex-grow-1 btn-send-order",size:"large",onClick:p.sendMessage,"aria-label":"Enviar pedido por WhatsApp"},{default:(0,i.k6)(()=>[...t[15]||(t[15]=[(0,i.eW)(" Enviar Pedido ",-1)])]),_:1},8,["onClick"])]),_:1})):(0,i.Q3)("",!0)]),_:1})]),_:1},8,["model-value"])}a(8111),a(1701),a(8237);var nt={name:"CartDialog",props:{show:Boolean,store:Object},computed:{...(0,U.aH)("cart",["items"]),subtotal(){return this.items.reduce((e,t)=>e+t.price*(t.quantity||1),0).toFixed(2)},tax(){return(.1*this.subtotal).toFixed(2)},total(){return(parseFloat(this.subtotal)+parseFloat(this.tax)).toFixed(2)}},methods:{increaseQuantity(e){this.$store.commit("cart/UPDATE_QUANTITY",{index:e,quantity:(this.items[e].quantity||1)+1})},decreaseQuantity(e){const t=this.items[e].quantity||1;t>1&&this.$store.commit("cart/UPDATE_QUANTITY",{index:e,quantity:t-1})},removeItem(e){this.$store.commit("cart/REMOVE_ITEM",e)},sendMessage(){if(!this.store)return;const e=this.store.whatsappPhone,t=this.store.name,a=this.getAddressBlock(),o=this.items.map(e=>`ðŸ“¦ ${e.name}\n   Cantidad: ${e.quantity||1} Ã— $${e.price} = $${(e.price*(e.quantity||1)).toFixed(2)}`).join("\n\n"),i=encodeURIComponent(`*PEDIDO DESDE ${t.toUpperCase()}* ðŸ›ï¸\n\n${o}\n\n${"â”€".repeat(40)}\nðŸ’° *RESUMEN DEL PEDIDO*\nSubtotal: $${this.subtotal}\nImpuestos (10%): $${this.tax}\n*TOTAL: $${this.total}*\n${"â”€".repeat(40)}\n\n${a}Por favor, confirma:\nâœ“ Disponibilidad de productos\nâœ“ Formas de pago\nâœ“ Tiempo de entrega\n\nÂ¡Gracias por tu compra! ðŸŽ‰`);window.open(`https://wa.me/${e}?text=${i}`,"_blank"),this.$emit("send-message"),this.$emit("close")},getAddressBlock(){const e=window.prompt("Comparte tu direcciÃ³n de entrega (opcional) o pega tu ubicaciÃ³n.",""),t=(e||"").trim();return t?`ðŸ“ DirecciÃ³n de entrega:\n${t}\n\n`:"ðŸ“ Comparte tu direcciÃ³n o envÃ­a tu ubicaciÃ³n para coordinar la entrega.\n\n"}}};const st=(0,k.A)(nt,[["render",rt],["__scopeId","data-v-8e294162"]]);var lt=st,ct={name:"StoreView",components:{StoreHeader:ee,ProductCard:ze,CartDialog:lt},data(){return{showCartDialog:!1}},computed:{...(0,U.aH)("stores",["stores","currentStore","loading","error"]),...(0,U.aH)("cart",["items"]),...(0,U.L8)("stores",["hasStores"]),storeParam(){return this.$route.query.store||null},cartItems(){return this.items.length}},watch:{storeParam:{immediate:!0,handler(e){this.hasStores&&(e?(this.selectStoreBySlug(e),this.updateTitle()):(this.$store.commit("stores/SET_CURRENT_STORE",null),document.title="Multi Tienda Vue"))}},currentStore(e){e&&this.updateTitle()}},created(){this.hasStores?this.storeParam&&(this.selectStoreBySlug(this.storeParam),this.updateTitle()):this.fetchStores().then(()=>{this.storeParam&&(this.selectStoreBySlug(this.storeParam),this.updateTitle())})},methods:{...(0,U.i0)("stores",["fetchStores","selectStoreBySlug"]),...(0,U.i0)("cart",["addItem"]),goToStore(e){this.$router.push({name:"Store",query:{store:e}})},clearStore(){this.$router.push({name:"Store",query:{}})},updateTitle(){if(!this.currentStore)return;const e="Multi Tienda Vue",t=`${this.currentStore.name} - ${e}`;document.title=t},addToCart(e){this.addItem(e)},sendCartMessage(){}}};const dt=(0,k.A)(ct,[["render",X],["__scopeId","data-v-1403074c"]]);var ut=dt;const pt={class:"not-found"};function mt(e,t,a,o,r,n){const s=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("section",pt,[t[3]||(t[3]=(0,i.Lk)("h2",null,"404 - PÃ¡gina no encontrada",-1)),(0,i.Lk)("p",null,[t[1]||(t[1]=(0,i.eW)(" La pÃ¡gina que buscas no existe. Vuelve a la ",-1)),(0,i.bF)(s,{to:{name:"Store"}},{default:(0,i.k6)(()=>[...t[0]||(t[0]=[(0,i.eW)("pÃ¡gina principal",-1)])]),_:1}),t[2]||(t[2]=(0,i.eW)(". ",-1))])])}var ft={name:"NotFoundView"};const vt=(0,k.A)(ft,[["render",mt],["__scopeId","data-v-54dce0ed"]]);var bt=vt;const gt=[{path:"/",name:"Store",component:ut,meta:{title:"Multi Tienda Vue"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:bt,meta:{title:"PÃ¡gina no encontrada"}}],ht=(0,x.aE)({history:(0,x.LA)("/main-store/"),routes:gt}),kt="Multi Tienda Vue";ht.afterEach(e=>{const t=e.meta?.title||kt;document.title=t});var yt=ht;a(116);const wt=15e3;function xt(e,t={},a=wt){const o=new AbortController,i=setTimeout(()=>o.abort(),a),r=fetch(e,{...t,signal:o.signal,headers:{"Content-Type":"application/json",...t.headers||{}}}).then(async e=>{if(clearTimeout(i),!e.ok){let a=null;try{a=await e.json()}catch(t){a=null}const o=new Error(a?.message||`Error HTTP ${e.status}`);throw o.status=e.status,o.body=a,o}try{return await e.json()}catch(t){return null}}).catch(t=>{throw clearTimeout(i),"AbortError"===t.name&&console.warn("PeticiÃ³n abortada:",e),t});return{promise:r,abort:()=>{clearTimeout(i),o.abort()}}}function _t(){return xt("/main-store/stores.json",{method:"GET"})}let Ct=null;var Ft={namespaced:!0,state:()=>({stores:[],currentStore:null,loading:!1,error:null}),getters:{hasStores(e){return e.stores.length>0},storeBySlug:e=>t=>{if(!t)return null;const a=String(t).toLowerCase();return e.stores.find(e=>e.slug.toLowerCase()===a||e.name.toLowerCase()===a)}},mutations:{SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t},SET_STORES(e,t){e.stores=t||[]},SET_CURRENT_STORE(e,t){e.currentStore=t}},actions:{async fetchStores({commit:e,state:t}){t.loading&&Ct&&Ct(),e("SET_LOADING",!0),e("SET_ERROR",null);const{promise:a,abort:o}=_t();Ct=o;try{const t=await a;e("SET_STORES",Array.isArray(t)?t:[])}catch(i){if("AbortError"===i.name)return;console.error("Error cargando tiendas:",i),e("SET_ERROR",i.message||"Error cargando tiendas")}finally{e("SET_LOADING",!1),Ct=null}},selectStoreBySlug({getters:e,commit:t},a){const o=e.storeBySlug(a);t("SET_CURRENT_STORE",o||null)}}},Et={namespaced:!0,state:{items:[]},getters:{cartTotal:e=>e.items.reduce((e,t)=>e+t.price*(t.quantity||1),0),cartCount:e=>e.items.reduce((e,t)=>e+(t.quantity||1),0),cartItems:e=>e.items},mutations:{ADD_ITEM(e,t){const a=e.items.find(e=>e.id===t.id);a?a.quantity=(a.quantity||1)+1:e.items.push({...t,quantity:1})},UPDATE_QUANTITY(e,{index:t,quantity:a}){a>0&&(e.items[t].quantity=a)},REMOVE_ITEM(e,t){e.items.splice(t,1)},CLEAR_CART(e){e.items=[]}},actions:{addItem({commit:e},t){e("ADD_ITEM",t)},updateQuantity({commit:e},{index:t,quantity:a}){e("UPDATE_QUANTITY",{index:t,quantity:a})},removeItem({commit:e},t){e("REMOVE_ITEM",t)},clearCart({commit:e}){e("CLEAR_CART")}}},Lt=(0,U.y$)({modules:{stores:Ft,cart:Et},strict:!0}),Tt=(a(5524),a(9076)),St=a(4749),$t=a(9666);const At={dark:!1,colors:{primary:"#3b82f6",secondary:"#8b5cf6",accent:"#06b6d4",success:"#22c55e",warning:"#f59e0b",error:"#ef4444",info:"#0ea5e9",surface:"#ffffff","surface-variant":"#f8fafc",background:"#f1f5f9","on-primary":"#ffffff","on-secondary":"#ffffff","on-success":"#ffffff","on-error":"#ffffff"}};var Dt=(0,Tt.$N)({components:St,directives:$t,theme:{defaultTheme:"light",themes:{light:{...At,variables:{"border-color":"#e2e8f0","high-emphasis":"rgba(15, 23, 42, 0.87)","medium-emphasis":"rgba(100, 116, 139, 0.60)","disabled-opacity":.38,"focused-opacity":.05,"hover-opacity":.04,"pressed-opacity":.12,"selected-opacity":.08,"activated-opacity":.12}}}},typography:{fontFamily:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'},defaults:{VBtn:{rounded:"md",density:"default"},VCard:{rounded:"lg",elevation:1},VChip:{rounded:"md"},VTextField:{rounded:"md",variant:"outlined",density:"comfortable"},VTextarea:{rounded:"md",variant:"outlined",density:"comfortable"}}});async function Wt(){const e=await a.e(53).then(a.t.bind(a,5371,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}Wt(),(0,o.Ef)(w).use(yt).use(Lt).use(Dt).mount("#app")}},t={};function a(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,o,i,r){if(!o){var n=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],r=e[d][2];for(var s=!0,l=0;l<o.length;l++)(!1&r||n>=r)&&Object.keys(a.O).every(function(e){return a.O[e](o[l])})?o.splice(l--,1):(s=!1,r<n&&(n=r));if(s){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,i,r]}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(o,i){if(1&i&&(o=this(o)),8&i)return o;if("object"===typeof o&&o){if(4&i&&o.__esModule)return o;if(16&i&&"function"===typeof o.then)return o}var r=Object.create(null);a.r(r);var n={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&o;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(function(e){n[e]=function(){return o[e]}});return n["default"]=function(){return o},a.d(r,n),r}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce(function(t,o){return a.f[o](e,t),t},[]))}}(),function(){a.u=function(e){return"js/webfontloader.4523cc93.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="main-store:";a.l=function(o,i,r,n){if(e[o])e[o].push(i);else{var s,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+r),s.src=o),e[o]=[i];var p=function(t,a){s.onerror=s.onload=null,clearTimeout(m);var i=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(function(e){return e(a)}),t)return t(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/main-store/"}(),function(){var e={524:0};a.f.j=function(t,o){var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else{var r=new Promise(function(a,o){i=e[t]=[a,o]});o.push(i[2]=r);var n=a.p+a.u(t),s=new Error,l=function(o){if(a.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var r=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",s.name="ChunkLoadError",s.type=r,s.request=n,i[1](s)}};a.l(n,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,r,n=o[0],s=o[1],l=o[2],c=0;if(n.some(function(t){return 0!==e[t]})){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(l)var d=l(a)}for(t&&t(o);c<n.length;c++)r=n[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},o=self["webpackChunkmain_store"]=self["webpackChunkmain_store"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],function(){return a(8570)});o=a.O(o)})();
//# sourceMappingURL=app.1ef560df.js.map